:- import socket/2, socket_connect/4 from socket.
:- import fd2ioport/2, file_read_line_atom/2 from file_io.
:- import spawn_process/5 from shell.

socket(Sockfd, Sock_ok),
socket_connect(Sockfd, 1234, localhost, Sock_ok),
fd2ioport(Sockfd, SockIOport),
file_read_line_atom(SockIOport, Line),
spawn_process([xsb], To, From,Err,_),
write(To, Line),
flush_output(To,_),
file_read_line_atom(From, Response),
file_write(SockIOport, Response),
file_flush(SockIOport,_).
